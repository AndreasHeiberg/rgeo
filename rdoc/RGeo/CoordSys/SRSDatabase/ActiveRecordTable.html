<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class RGeo::CoordSys::SRSDatabase::ActiveRecordTable - RGeo 0.3.15 Documentation</title>

<link type="text/css" media="screen" href="../../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../../index.html">Home</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/rgeo/coord_sys/srs_database/active_record_table.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../../../Object.html">Object</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-clear_cache">#clear_cache</a>
    
    <li><a href="#method-i-get">#get</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../../History_rdoc.html">History</a>
  
    <li class="file"><a href="../../../README_rdoc.html">README</a>
  
    <li class="file"><a href="../../../Spatial_Programming_With_RGeo_rdoc.html">Spatial_Programming_With_RGeo</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../../RGeo.html">RGeo</a>
  
    <li><a href="../../../RGeo/Cartesian.html">RGeo::Cartesian</a>
  
    <li><a href="../../../RGeo/Cartesian/Analysis.html">RGeo::Cartesian::Analysis</a>
  
    <li><a href="../../../RGeo/Cartesian/BoundingBox.html">RGeo::Cartesian::BoundingBox</a>
  
    <li><a href="../../../RGeo/Cartesian/Factory.html">RGeo::Cartesian::Factory</a>
  
    <li><a href="../../../RGeo/CoordSys.html">RGeo::CoordSys</a>
  
    <li><a href="../../../RGeo/CoordSys/CS.html">RGeo::CoordSys::CS</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/AngularUnit.html">RGeo::CoordSys::CS::AngularUnit</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/AxisInfo.html">RGeo::CoordSys::CS::AxisInfo</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/Base.html">RGeo::CoordSys::CS::Base</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/CompoundCoordinateSystem.html">RGeo::CoordSys::CS::CompoundCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/CoordinateSystem.html">RGeo::CoordSys::CS::CoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/CoordinateSystemFactory.html">RGeo::CoordSys::CS::CoordinateSystemFactory</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/Datum.html">RGeo::CoordSys::CS::Datum</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/Ellipsoid.html">RGeo::CoordSys::CS::Ellipsoid</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/GeocentricCoordinateSystem.html">RGeo::CoordSys::CS::GeocentricCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/GeographicCoordinateSystem.html">RGeo::CoordSys::CS::GeographicCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/HorizontalCoordinateSystem.html">RGeo::CoordSys::CS::HorizontalCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/HorizontalDatum.html">RGeo::CoordSys::CS::HorizontalDatum</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/Info.html">RGeo::CoordSys::CS::Info</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/LinearUnit.html">RGeo::CoordSys::CS::LinearUnit</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/LocalCoordinateSystem.html">RGeo::CoordSys::CS::LocalCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/LocalDatum.html">RGeo::CoordSys::CS::LocalDatum</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/PrimeMeridian.html">RGeo::CoordSys::CS::PrimeMeridian</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/ProjectedCoordinateSystem.html">RGeo::CoordSys::CS::ProjectedCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/Projection.html">RGeo::CoordSys::CS::Projection</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/ProjectionParameter.html">RGeo::CoordSys::CS::ProjectionParameter</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/Unit.html">RGeo::CoordSys::CS::Unit</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/VerticalCoordinateSystem.html">RGeo::CoordSys::CS::VerticalCoordinateSystem</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/VerticalDatum.html">RGeo::CoordSys::CS::VerticalDatum</a>
  
    <li><a href="../../../RGeo/CoordSys/CS/WGS84ConversionInfo.html">RGeo::CoordSys::CS::WGS84ConversionInfo</a>
  
    <li><a href="../../../RGeo/CoordSys/Proj4.html">RGeo::CoordSys::Proj4</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase.html">RGeo::CoordSys::SRSDatabase</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase/ActiveRecordTable.html">RGeo::CoordSys::SRSDatabase::ActiveRecordTable</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase/Entry.html">RGeo::CoordSys::SRSDatabase::Entry</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase/Interface.html">RGeo::CoordSys::SRSDatabase::Interface</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase/Proj4Data.html">RGeo::CoordSys::SRSDatabase::Proj4Data</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase/SrOrg.html">RGeo::CoordSys::SRSDatabase::SrOrg</a>
  
    <li><a href="../../../RGeo/CoordSys/SRSDatabase/UrlReader.html">RGeo::CoordSys::SRSDatabase::UrlReader</a>
  
    <li><a href="../../../RGeo/Error.html">RGeo::Error</a>
  
    <li><a href="../../../RGeo/Error/InvalidGeometry.html">RGeo::Error::InvalidGeometry</a>
  
    <li><a href="../../../RGeo/Error/ParseError.html">RGeo::Error::ParseError</a>
  
    <li><a href="../../../RGeo/Error/RGeoError.html">RGeo::Error::RGeoError</a>
  
    <li><a href="../../../RGeo/Error/UnsupportedOperation.html">RGeo::Error::UnsupportedOperation</a>
  
    <li><a href="../../../RGeo/Feature.html">RGeo::Feature</a>
  
    <li><a href="../../../RGeo/Feature/Curve.html">RGeo::Feature::Curve</a>
  
    <li><a href="../../../RGeo/Feature/Factory.html">RGeo::Feature::Factory</a>
  
    <li><a href="../../../RGeo/Feature/Factory/Instance.html">RGeo::Feature::Factory::Instance</a>
  
    <li><a href="../../../RGeo/Feature/FactoryGenerator.html">RGeo::Feature::FactoryGenerator</a>
  
    <li><a href="../../../RGeo/Feature/Geometry.html">RGeo::Feature::Geometry</a>
  
    <li><a href="../../../RGeo/Feature/GeometryCollection.html">RGeo::Feature::GeometryCollection</a>
  
    <li><a href="../../../RGeo/Feature/Instance.html">RGeo::Feature::Instance</a>
  
    <li><a href="../../../RGeo/Feature/Line.html">RGeo::Feature::Line</a>
  
    <li><a href="../../../RGeo/Feature/LineString.html">RGeo::Feature::LineString</a>
  
    <li><a href="../../../RGeo/Feature/LinearRing.html">RGeo::Feature::LinearRing</a>
  
    <li><a href="../../../RGeo/Feature/MixinCollection.html">RGeo::Feature::MixinCollection</a>
  
    <li><a href="../../../RGeo/Feature/MixinCollection/TypeData.html">RGeo::Feature::MixinCollection::TypeData</a>
  
    <li><a href="../../../RGeo/Feature/MultiCurve.html">RGeo::Feature::MultiCurve</a>
  
    <li><a href="../../../RGeo/Feature/MultiLineString.html">RGeo::Feature::MultiLineString</a>
  
    <li><a href="../../../RGeo/Feature/MultiPoint.html">RGeo::Feature::MultiPoint</a>
  
    <li><a href="../../../RGeo/Feature/MultiPolygon.html">RGeo::Feature::MultiPolygon</a>
  
    <li><a href="../../../RGeo/Feature/MultiSurface.html">RGeo::Feature::MultiSurface</a>
  
    <li><a href="../../../RGeo/Feature/Point.html">RGeo::Feature::Point</a>
  
    <li><a href="../../../RGeo/Feature/Polygon.html">RGeo::Feature::Polygon</a>
  
    <li><a href="../../../RGeo/Feature/Surface.html">RGeo::Feature::Surface</a>
  
    <li><a href="../../../RGeo/Feature/Type.html">RGeo::Feature::Type</a>
  
    <li><a href="../../../RGeo/Geographic.html">RGeo::Geographic</a>
  
    <li><a href="../../../RGeo/Geographic/Factory.html">RGeo::Geographic::Factory</a>
  
    <li><a href="../../../RGeo/Geographic/ProjectedWindow.html">RGeo::Geographic::ProjectedWindow</a>
  
    <li><a href="../../../RGeo/Geographic/SphericalMultiLineStringMethods.html">RGeo::Geographic::SphericalMultiLineStringMethods</a>
  
    <li><a href="../../../RGeo/Geos.html">RGeo::Geos</a>
  
    <li><a href="../../../RGeo/Geos/CAPIFactory.html">RGeo::Geos::CAPIFactory</a>
  
    <li><a href="../../../RGeo/Geos/FFIFactory.html">RGeo::Geos::FFIFactory</a>
  
    <li><a href="../../../RGeo/Geos/ZMFactory.html">RGeo::Geos::ZMFactory</a>
  
    <li><a href="../../../RGeo/WKRep.html">RGeo::WKRep</a>
  
    <li><a href="../../../RGeo/WKRep/WKBGenerator.html">RGeo::WKRep::WKBGenerator</a>
  
    <li><a href="../../../RGeo/WKRep/WKBParser.html">RGeo::WKRep::WKBParser</a>
  
    <li><a href="../../../RGeo/WKRep/WKTGenerator.html">RGeo::WKRep::WKTGenerator</a>
  
    <li><a href="../../../RGeo/WKRep/WKTParser.html">RGeo::WKRep::WKTParser</a>
  
    <li><a href="../../../Object.html">Object</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class RGeo::CoordSys::SRSDatabase::ActiveRecordTable</h1>

  <div id="description" class="description">
    
<p>A spatial reference database implementation that uses ActiveRecord to
access a spatial reference table provided by a spatial database
implementation. You can use this class to obtain coordinate system
information from your installation of, e.g. PostGIS.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(opts_={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create a new ActiveRecord-backed database connection.</p>

<p>Options include:</p>
<dl class="rdoc-list label-list"><dt><code>:ar_class</code>
<dd>
<p>An ActiveRecord class to use. You may provide this if you already have an
ActiveRecord class that accesses the table. If not provided, an
ActiveRecord class will be generated for you, using the
<code>:ar_base_class</code>, <code>:database_config</code>, and
<code>:table_name</code> options.</p>
</dd><dt><code>:ar_base_class</code>
<dd>
<p>Specify an ActiveRecord base class to use when generating an ActiveRecord
class. Default is ::ActiveRecord::Base. You may want to use this if you
have a base class already that specifies an existing database connection
and/or other class-scope options.</p>
</dd><dt><code>:database_config</code>
<dd>
<p>If provided, <code>establish_connection</code> will be called on the
generated ActiveRecord class, with the given value.</p>
</dd><dt><code>:table_name</code>
<dd>
<p>The table name for the new ActiveRecord class. Defaults to the value
<code>spatial_ref_sys</code>, which is the OGC-specified name for this
table.</p>
</dd><dt><code>:srid_column</code>
<dd>
<p>The name of the SRID column. Defaults to “srid”, which is the OGC-specified
name for this column.</p>
</dd><dt><code>:auth_name_column</code>
<dd>
<p>The name of the authority name column. On an OGC-compliant database, this
column should be named “auth_name”. However, the default is set to nil; you
should set this option explicitly if you want to read the authority name.</p>
</dd><dt><code>:auth_srid_column</code>
<dd>
<p>The name of the authority srid column. On an OGC-compliant database, this
column should be named “auth_srid”. However, the default is set to nil; you
should set this option explicitly if you want to read the authority’s srid.</p>
</dd><dt><code>:name_column</code>
<dd>
<p>The name of the coordinate system name column. This column is not part of
the OGC spec, but it is included in some spatial database implementations.
Default is nil.</p>
</dd><dt><code>:description_column</code>
<dd>
<p>The name of the coordinate system description column. This column is not
part of the OGC spec, but may be included in some spatial database
implementations. Default is nil.</p>
</dd><dt><code>:srtext_column</code>
<dd>
<p>The name of the spatial reference WKT column. On an OGC-compliant database,
this column should be named “srtext”. However, not all databases include
this column, so the default is set to nil; you should set this option
explicitly if you want to read the OGC coordinate system specification.</p>
</dd><dt><code>:proj4text_column</code>
<dd>
<p>The name of the <a href="../Proj4.html">Proj4</a> format projection spec
column. This column is not part of the OGC spec, but may be included in
some spatial database implementations. Default is nil.</p>
</dd><dt><code>:cache</code>
<dd>
<p>If set to true, entries are cached when first retrieved, so subsequent
requests do not have to make a database round trip. Default is false.</p>
</dd></dl>

<p>Some option settings may be provided by the ActiveRecord connection
adapter, if the ActiveRecord class’s connection uses an adapter that is
RGeo-savvy. The “postgis” and “spatialite” adapters are such adapters. They
automatically provide the <code>:table_name</code> and all the relevant
column settings for the database-provided spatial reference table as
defaults. However, you can still override those settings if you want to use
a custom table.</p>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/rgeo/coord_sys/srs_database/active_record_table.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">opts_</span>={})
  <span class="ruby-ivar">@cache</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:cache</span>] <span class="ruby-operator">?</span> {} <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@ar_class</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:ar_class</span>]
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@ar_class</span>
    <span class="ruby-identifier">ar_base_class_</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:ar_base_class</span>] <span class="ruby-operator">||</span> <span class="ruby-operator">::</span><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
    <span class="ruby-ivar">@ar_class</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ar_base_class_</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">const_set</span>(<span class="ruby-node">&quot;Klass#{@@class_counter}&quot;</span>, <span class="ruby-ivar">@ar_class</span>)
    <span class="ruby-identifier">@@class_counter</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:database_config</span>]
      <span class="ruby-ivar">@ar_class</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">opts_</span>[<span class="ruby-value">:database_config</span>])
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">connection_</span> = <span class="ruby-ivar">@ar_class</span>.<span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">connection_</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:srs_database_columns</span>)
    <span class="ruby-identifier">opts_</span> = <span class="ruby-identifier">connection_</span>.<span class="ruby-identifier">srs_database_columns</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts_</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:ar_class</span>]
    <span class="ruby-ivar">@ar_class</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:table_name</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'spatial_ref_sys'</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@srid_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:srid_column</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'srid'</span>
  <span class="ruby-ivar">@auth_name_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:auth_name_column</span>]
  <span class="ruby-ivar">@auth_srid_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:auth_srid_column</span>]
  <span class="ruby-ivar">@name_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:name_column</span>]
  <span class="ruby-ivar">@description_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:description_column</span>]
  <span class="ruby-ivar">@srtext_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:srtext_column</span>]
  <span class="ruby-ivar">@proj4text_column</span> = <span class="ruby-identifier">opts_</span>[<span class="ruby-value">:proj4text_column</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-clear_cache" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear_cache</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Clears the cache if a cache is active.</p>
          

          
          <div class="method-source-code" id="clear_cache-source">
            <pre><span class="ruby-comment"># File lib/rgeo/coord_sys/srs_database/active_record_table.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear_cache</span>
  <span class="ruby-ivar">@cache</span>.<span class="ruby-identifier">clear</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cache</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear_cache-source -->
          
        </div>

        

        
      </div><!-- clear_cache-method -->

    
      <div id="method-i-get" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get</span><span
            class="method-args">(ident_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Retrieve an <a href="Entry.html">Entry</a> given an integer SRID.</p>
          

          
          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/rgeo/coord_sys/srs_database/active_record_table.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">ident_</span>)
  <span class="ruby-identifier">ident_</span> = <span class="ruby-identifier">ident_</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">ident_</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cache</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@cache</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ident_</span>)
  <span class="ruby-identifier">obj_</span> = <span class="ruby-ivar">@ar_class</span>.<span class="ruby-identifier">where</span>(<span class="ruby-ivar">@srid_column</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ident_</span>).<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">obj_</span>
    <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">ident_</span>] = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cache</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">auth_name_</span> = <span class="ruby-ivar">@auth_name_column</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">obj_</span>[<span class="ruby-ivar">@auth_name_column</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">auth_srid_</span> = <span class="ruby-ivar">@auth_srid_column</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">obj_</span>[<span class="ruby-ivar">@auth_srid_column</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">name_</span> = <span class="ruby-ivar">@name_column</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">obj_</span>[<span class="ruby-ivar">@name_column</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">description_</span> = <span class="ruby-ivar">@description_column</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">obj_</span>[<span class="ruby-ivar">@description_column</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">coord_sys_</span> = <span class="ruby-identifier">proj4_</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@srtext_column</span>
    <span class="ruby-identifier">coord_sys_</span> = <span class="ruby-constant">CS</span>.<span class="ruby-identifier">create_from_wkt</span>(<span class="ruby-identifier">obj_</span>[<span class="ruby-ivar">@srtext_column</span>]) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proj4text_column</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Proj4</span>.<span class="ruby-identifier">supported?</span>
    <span class="ruby-identifier">proj4_</span> = <span class="ruby-constant">Proj4</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">obj_</span>[<span class="ruby-ivar">@proj4text_column</span>].<span class="ruby-identifier">strip</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result_</span> = <span class="ruby-constant">Entry</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ident_</span>, <span class="ruby-value">:authority</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">auth_name_</span>, <span class="ruby-value">:authority_code</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">auth_srid_</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name_</span>, <span class="ruby-value">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">description_</span>, <span class="ruby-value">:coord_sys</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">coord_sys_</span>, <span class="ruby-value">:proj4</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">proj4_</span>)
  <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">ident_</span>] = <span class="ruby-identifier">result_</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cache</span>
  <span class="ruby-identifier">result_</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get-source -->
          
        </div>

        

        
      </div><!-- get-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

